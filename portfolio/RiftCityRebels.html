<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Derek Baert</title>
        <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">-->
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/styles.css" rel="stylesheet">
        
        <script defer src="../js/bootstrap.bundle.min.js"></script>    
    </head>
    <body id="portfolio-body">

        <div class="container sm" id="content">
          <h1>Derek Baert | Game Designer and Programmer</h1>
          <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="nav justify-content-center">
                  <li class="nav-item">
                    <a class="nav-link" href="..\index.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../GamePortfolio.html">Game Portfolio</a>                
                  </li>
                  <!--<li class="nav-item">
                    <a class="nav-link" href="../SoftwarePortfolio.html">Software and Web Portfolio</a>
                  </li>    -->          
                </ul>
                <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="../DerekBaert_Resume.pdf">Resume</a>
                  </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <a class="nav-link py-2 px-0 px-lg-2" href="https://github.com/DerekBaert" target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" class="navbar-nav-svg" viewBox="0 0 512 499.36" role="img">
                                <title>GitHub</title>
                                <path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"></path>
                            </svg>
                            <small class="d-lg-none ms-2">GitHub</small>
                        </a>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <a class="nav-link py-2 px-0 px-lg-2" href="https://www.linkedin.com/in/derekbaert/" target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16">
                                <title>LinkedIn</title>
                                <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
                            </svg>
                            <small class="d-lg-none ms-2">GitHub</small>
                        </a>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <a class="nav-link py-2 px-0 px-lg-2" href="https://www.linkedin.com/in/derekbaert/" target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-controller" viewBox="0 0 16 16">
                                <title>Itch.io</title>
                                <path d="M11.5 6.027a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m2.5-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-1.5 1.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m-6.5-3h1v1h1v1h-1v1h-1v-1h-1v-1h1z"/>
                                <path d="M3.051 3.26a.5.5 0 0 1 .354-.613l1.932-.518a.5.5 0 0 1 .62.39c.655-.079 1.35-.117 2.043-.117.72 0 1.443.041 2.12.126a.5.5 0 0 1 .622-.399l1.932.518a.5.5 0 0 1 .306.729q.211.136.373.297c.408.408.78 1.05 1.095 1.772.32.733.599 1.591.805 2.466s.34 1.78.364 2.606c.024.816-.059 1.602-.328 2.21a1.42 1.42 0 0 1-1.445.83c-.636-.067-1.115-.394-1.513-.773-.245-.232-.496-.526-.739-.808-.126-.148-.25-.292-.368-.423-.728-.804-1.597-1.527-3.224-1.527s-2.496.723-3.224 1.527c-.119.131-.242.275-.368.423-.243.282-.494.575-.739.808-.398.38-.877.706-1.513.773a1.42 1.42 0 0 1-1.445-.83c-.27-.608-.352-1.395-.329-2.21.024-.826.16-1.73.365-2.606.206-.875.486-1.733.805-2.466.315-.722.687-1.364 1.094-1.772a2.3 2.3 0 0 1 .433-.335l-.028-.079zm2.036.412c-.877.185-1.469.443-1.733.708-.276.276-.587.783-.885 1.465a14 14 0 0 0-.748 2.295 12.4 12.4 0 0 0-.339 2.406c-.022.755.062 1.368.243 1.776a.42.42 0 0 0 .426.24c.327-.034.61-.199.929-.502.212-.202.4-.423.615-.674.133-.156.276-.323.44-.504C4.861 9.969 5.978 9.027 8 9.027s3.139.942 3.965 1.855c.164.181.307.348.44.504.214.251.403.472.615.674.318.303.601.468.929.503a.42.42 0 0 0 .426-.241c.18-.408.265-1.02.243-1.776a12.4 12.4 0 0 0-.339-2.406 14 14 0 0 0-.748-2.295c-.298-.682-.61-1.19-.885-1.465-.264-.265-.856-.523-1.733-.708-.85-.179-1.877-.27-2.913-.27s-2.063.091-2.913.27"/>
                            </svg>
                            <small class="d-lg-none ms-2">Itch.io</small>
                        </a>
                    </li>
                </ul>
              </div>
            </div>
        </nav>
          <!--Info-->
          <div class="row" id="quickinfo">
            <div class="col d-flex align-items-center justify-content-center">
              <img src="../images/RiftCityRebels_Color.png" class="img-fluid" alt="...">         
            </div>
            <div class="col">
              <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="ms-2 me-auto">
                    <div class="fw-bold">Roles</div>
                    System and Gameplay Programmer, Combat Designer
                  </div>
                </li>  
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="ms-2 me-auto">
                    <div class="fw-bold">Tools</div>
                    Unreal Engine 5, Unreal Blueprints, Perforce
                  </div>
                </li> 
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="ms-2 me-auto">
                    <div class="fw-bold">Team Size</div>
                    18 (12 Artists, 6 Programmers)
                  </div>
                </li> 
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="ms-2 me-auto">
                    <div class="fw-bold">Development Time</div>
                    4 months
                  </div>
                </li>       
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="ms-2 me-auto">
                    <div class="fw-bold">Genre</div>
                    Platform Fighter
                  </div>
                </li> 
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="ms-2 me-auto">
                    <div class="fw-bold">Platform</div>
                    PC
                  </div>
                </li>   
                <li class="list-group-item d-flex justify-content-between align-items-start">
                  <div class="ms-2 me-auto">
                    <a href="https://dobibo.itch.io/rift-city-rebels"><img src="../images/itch.png" class="img-fluid" alt="..."></a>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <div class="row">
            <p>
              Rift City Rebels is a Platform Fighter developed as the capstone project for my Game Development program. Inspired by the Smash Bros. series and Rivals of Aether, our goal was to use these as a template to create a fun and polished gameplay experience. My primary contributions were:
            </p>
            <ul id="contribution-list">
              <li>
                <p id="contribution">
                  Created one of the game's playable characters, including the concept for their visual design, as well as designing their 9 unique abilities.
                </p>
              </li>
              <li>
                <p id="contribution">
                  Designed and Developed the game's camera system, which dynamically adjusted it's position and zoom to frame the combat for up to 4 players.
                </p>
              </li>
              <li>
                <p id="contribution">
                  Designed and Developed the game's Data Management system, which tracked player selections such as stages and characters, as well as in match statistics for each player. These stats were then displayed for each player at the end of each match.
                </p>
              </li>
              <li>
                <p id="contribution">
                  Designed and Developed the game's Data Management system, which tracked player selections such as stages, game modes, and characters, as well as in match statistics for each player. These stats were then displayed for each player at the end of each match.
                </p>
              </li>
              <li>
                <p id="contribution">
                  Developed a training mode that allowed players to adjust AI behaviour, and dynamically swap between all 7 playable characters to test out their unique moves.
                </p>
              </li>
              <li>
                <p id="contribution">
                  Adjusted game balance based on playtest data, including AB testing and detailing changes in bi-weekly patch notes.                
                </p>
              </li>
            </ul>       
            <p id="contribution">
              Read on for more detailed information on these contributions!
            </p>
          </div>

          <!--Features-->       
          <ul class="nav nav-tabs d-none d-lg-flex" id="featuresTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">Warden</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="camera-tab" data-bs-toggle="tab" data-bs-target="#camera-tab-pane" type="button" role="tab" aria-controls="camera-tab-pane" aria-selected="false">Dynamic Camera System</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="cinematic-tab" data-bs-toggle="tab" data-bs-target="#cinematic-tab-pane" type="button" role="tab" aria-controls="cinematic-tab-pane" aria-selected="false">Cinematic Integration</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="data-tab" data-bs-toggle="tab" data-bs-target="#data-tab-pane" type="button" role="tab" aria-controls="data-tab-pane" aria-selected="false">Data Management</button>
            </li>
          </ul>
          <div class="tab-content accordion" id="myTabContent">
            <div class="tab-pane fade show active accordion-item" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">          
              <div id="collapseOne" class="accordion-collapse collapse show  d-lg-block" aria-labelledby="headingOne" data-bs-parent="#myTabContent">
                <div class="accordion-body">
                  <div class="row">
                    <h3 class="d-flex align-items-center justify-content-center">Initial Concept</h3>
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        For this project each programmer teamed up with an artist who was interested in character art. For the other characters, the artist came up with the visual and narrative concept for the character, while the programmer handled any special implementation the character required. I had a very strong idea for a heavy, nature themed character wearing a skull mask with a moveset inspired by wrestling and championed the idea. Luckily one of the artists was interested in the idea and volunteered to pair up with me.
                      </p>
                      <a href="https://dsymmetry.notion.site/Warden-19f1a8d5527880058577f967490f83e8?pvs=4">Character Design Sheet</a>
                    </div>
                    <div class="col">
                      <img src="../images/RCR_Cinematic.gif" class="img-fluid" alt="...">
                    </div>
                  </div>
                  <div class="row">
                    <h3 class="d-flex align-items-center justify-content-center">Visual Design</h3>
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        To properly convey the idea I had, I created a <a href="https://pin.it/4DMHBPBaS">mood board</a> of reference photos to share with the artist. The artist created some silhouettes based on the reference photos, and after some revisions we eventually settled on one that would fit the heavy hitting playstyle we were going for. To connect his nature theme with his martial arts focused moveset, we wrapped Muay Thai rope inspired vines wrapped around his hands and feet.
                      </p>
                      <img src="../images/Warden_Moodboard.png" class="img-fluid" alt="Snapshot of the mood board.">
                      <p>Snippet of the mood board used for reference.</p>
                    </div>
                    <div class="col">
                      <img src="../images/Silhouette.png" class="img-fluid" alt="Early silhouettes for Warden.">
                      <p>Early silhouettes for Warden.</p>
                      <img src="../images/Warden.png" class="img-fluid" alt="Final Render for Warden">
                      <p>Final character render</p>
                    </div>
                  </div>
                  <div class="row">
                    <h3 class="d-flex align-items-center justify-content-center">Moveset</h3>
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        For his moveset, we came up with a short list of wrestling moves and matched them to the input that we thought would be the best fit. To tie in his nature theme, we added a few attacks that used vines he could summon from his hand or the ground. I then researched the frame data for similar attacks in existing fighting games to determine the best starting point for the animations and compiled this on his design sheet. As the game was developed, these values were adjusted as needed.
                      </p>
                      <img src="../images/Warden-AbilitySheet.webp" class="img-fluid" alt="Early ability sheet for Warden">
                      <p>Early ability sheet for Warden.</p>
                    </div>
                    <div class="col">
                      <img src="../images/Abilityconcepts.png" class="img-fluid" alt="Example of attack breakdowns.">
                      <p>Example of attack breakdowns.</p>
                    </div>
                  </div>
                </div>
              </div>          
            </div>

            <div class="tab-pane fade accordion-item" id="camera-tab-pane" role="tabpanel" aria-labelledby="camera-tab" tabindex="0">
              <div id="collapseTwo" class="accordion-collapse collapse d-lg-block" aria-labelledby="headingTwo" data-bs-parent="#myTabContent">
                <div class="accordion-body">
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        One system I developed was the in-match camera. As there are multiple players moving around the screen during a match, this system needed to move the camera to follow the action of the match, zoom in and out to fit all characters on screen, and constrain the camera to the bounds of the level. Below I will cover how I tackled these behaviours.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/RCR_Camera.gif" class="img-fluid" alt="...">
                    </div>
                  </div>
                  <div class="row">
                    <h3 class="d-flex align-items-center justify-content-center">Dynamic Zoom</h3>
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        To fit all characters on screen, the camera needs to zoom in when characters are close together and zoom out when they are far apart. First, I needed to figure out what the furthest distance between any two players was. To do this, the camera’s script loops through an array of all the players and checks the distance between each player. If this value exceeds the current value of the “CurrentDistance” local variable, it is assigned as the new value of CurrentDistance. Once the loops complete, the value of CurrentDistance is returned.
                      </p>
                    </div>                    
                    <div class="col">
                      <img src="../images/RCR_Camera_DistanceCalculation.jpg" class="img-fluid" alt="...">
                      <p>Function calculating the largest distance between all players.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Once I determined the largest distance between two players, I needed to set constraints on how far the camera would be allowed to zoom in or out. Since the two stages in our game varied in size, I created two adjustable instance variables for level designers. These variables defined the minimum and maximum distances between players before the camera stops zooming in or out.
                        </br>
                        Using these two variables, I was able to map the maximum distance between players to a value between 0 and 1, with 0 being the Minimum player distance, and 1 being the maximum player distance. This value is clamped at 1 to prevent the camera zooming out further than intended. This value is then stored as a variable called ZoomAmount.
                      </p>
                    </div>                    
                    <div class="col">
                      <img src="../images/MapDistance.png" class="img-fluid" alt="...">
                      <p>Mapping the highest distance between players on a scale of 0 to 1.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        To adjust the ‘zoom’ of the camera, I attached a spring arm component to the camera which shortens and lengthens to pull the camera in and out. Similar to how I determined the minimum and maximum player distance, I set up instance variables for the constraints of the arm length so that it could be set per stage.
                        </br>
                        Now, using the ZoomAmount value from earlier, I used a Lerp function to find the corresponding value between the minimum and maximum arm lengths, and set it as the spring arm’s current length with an FInterp function. This function smoothly changes the value of a float to a target value each frame, in this case changing the spring arm’s current length to the newly calculated length.
                      </p>
                    </div>                    
                    <div class="col">
                      <img src="../images/RCR_Camera_FInterp.png" class="img-fluid" alt="...">
                      <p>Mapping new arm length within range, and then setting new arm length smoothly over time.</p>
                    </div>
                  </div>
                  <div class="row">
                    <h3 class="d-flex align-items-center justify-content-center">Tracking Movement</h3> 
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Now that the distance from the stage is found, the camera also needs to track the position of the players. To do this, I needed to find the center point of all players in the match and smoothly move towards it. To calculate this, as all that needs to be done is adding all player positions together and then dividing by the player count.
                      </p>
                    </div>                   
                    <div class="col">
                      <img src="../images/RCR_CalculatePosition.jpg" class="img-fluid" alt="...">
                      <p>Calculating centre point of all players.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        But what happens when one of the players is knocked out of bounds? The camera will move to follow them, potentially moving too far away from the main play area. Initially I tried setting up static boundaries for the camera, but this wouldn’t work with a camera that was frequently pulling in and out. To fix this, I needed to find a way to adjust the boundaries based on how far the camera was pulled in or out.
                      </br>
                        Using the ZoomAmount I calculated earlier, I calculated new boundaries for the camera. First, I set up two collision boxes that represent the bounds for the camera when it is fully zoomed in and out. Like with the previous instance variables, these can be adjusted manually to fit the needs of the given level.
                      </p>
                    </div>                    
                    <div class="col">
                      <img src="../images/DerekBaert_CameraBoundaries.jpg" class="img-fluid" alt="...">
                      <p>Collision boxes used to for the minimum and maximum constraints of the camera.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        With these set, I took the X and Z bounds of each collision box as the start and end values for lerp functions, and used the ZoomAmount as the Alpha to find the corresponding value between them. With the results of these two Lerp functions, I created new boundaries to constrain the camera’s position by clamping its X and Z values.
                      </p>    
                      <img src="../images/DerekBaert_CalculateNewBounds.jpg" class="img-fluid" alt="...">
                      <p>Calculating new boundary for camera based on its current zoom value.</p>                  
                    </div>                    
                    <div class="col">

                      <img src="../images/DerekBaert_Camera_ClampPosition.jpg" class="img-fluid" alt="...">
                      <p>Clamping position to new boundary.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Finally, I smoothly moved the camera’s position to this constrained value using a VInterp function, which functions like the FInterp function used for the zoom.
                      </p>
                    </div>                    
                    <div class="col">
                      <img src="../images/DerekBaert_Camera_MovePosition.jpg" class="img-fluid" alt="...">
                      <p>Setting new camera position smoothly over time.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade accordion-item" id="cinematic-tab-pane" role="tabpanel" aria-labelledby="cinematic-tab" tabindex="0">
              <div id="collapseThree" class="accordion-collapse collapse d-lg-block" aria-labelledby="headingThree" data-bs-parent="#myTabContent">
                <div class="accordion-body">
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Another feature I worked on was integrating the cinematic sequences that would play at the character select screen and the results screen after a match. This system needed to play the correct sequence for the character, as well as reflect which colour scheme the character was currently using. I experimented with several different approaches to this problem before finding the one that worked the best for our project. This required a bit of creative problem solving and collaboration with artists to find the best method to display their art and animations
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/RCR_CharacterSelect.gif" class="img-fluid" alt="The finished character select screen with animations.">
                      <p>The finished character select screen with animations.</p>
                    </div>
                  </div>
                  <div class="row">
                    <h3 class="d-flex align-items-center justify-content-center">Character Select and Victory Animations</h3>
                    <h4>First Attempt</h4>
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        For the animations on the character select screen, we initially explored creating virtual green screen, with the selected character being spawned in front of a solid colour. A camera would then capture them doing their entrance animation and render it to the UI. This worked, but didn’t look very good, so we scrapped it.
                      </br>
                        Instead, I set up a scene with a 3D UI behind it. To do this, I made an actor with the 3D UI component on it, and placed four skeletal mesh components in front of each character select section. When a character is selected, it triggers an event which this actor subscribes to. The actor then checks which player it was that triggered the event using their Controller ID and finds the skeletal mesh that corresponds to their slot.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/CharacterSelectSetup.png" class="img-fluid" alt="Skeletal meshes arranged in front of character select UI.">
                      <p>Skeletal meshes arranged in front of character select UI.</p>
                      <img src="../images/SelectingCharacterMesh.png" class="img-fluid" alt="Code snippet for finding the skeletal mesh for the correct player.">
                      <p>Code snippet for finding the skeletal mesh for the correct player.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        To determine which mesh corresponded to which character, I created a map using the character’s class as the key, and the value is a struct containing their Name, Skeletal Mesh, and Animation.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/SkeletalMeshMap.png" class="img-fluid" alt="Example of the data contained in the struct.">
                      <p>Example of the data contained in the struct.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Before setting the player’s mesh and playing their entrance animation, I ensure the mesh is not visible, then make it visible after setting everything up. This was done because there were a few frames before the animation started where the mesh was visible in it’s default pose.
                      </p>
                      <p>
                        This system worked fine initially, but we ran into problems for characters with multiple meshes, such as weapons and other props. There were also certain visual effects the artists wanted to implement with the character’s textures, which would have been difficult to pull off with this method. So, I revised the system to use Unreal Engine’s Cinematic Sequences.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/ChangingMesh.png" class="img-fluid" alt="Code snippet showing the mesh being changed and the animation being played.">
                      <p>Code snippet showing the mesh being changed and the animation being played.</p>
                    </div>
                  </div>
                  <div class="row">
                    <h4>Second Attempt</h4>
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        The meshes were still useful, as they could be used to determine where on the screen to place the sequence. So, after determining which mesh to use, I used a Map to locate which sequence to play for the selected character. Similar to the map in my initial attempt, it used the character’s Class as the Key, and the sequence as the value.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/CharacterSequenceMap.png" class="img-fluid" alt="The data stored in the map for the character sequences.">
                      <p>The data stored in the map for the character sequences.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Once the correct sequence was located, I called the Unreal function <em>“Create Level Sequence Player”</em> to spawn the sequence player, providing it with the character’s sequence, and the desired settings. In this case, because I needed to make some adjustments to the sequence before it plays, I set auto-play to off. I also store the sequence as a local variable (Current Sequence) for easier referencing later. 
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/AddSequence.png" class="img-fluid" alt="Sequence being spawned.">
                      <p>Code snippet showing the level sequence being spawned.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        The first adjustment is setting the position of the sequence to the position of the mesh in the 3D scene. To do this, I had to set the value of the sequence’s <em>“Override Instance Data”</em> variable to true, to override the transform. I then change the X and Y values of the <em>DefaultLevelSequnceInstanceData</em>, an object containing all the instance’s default data.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/OverridePosition.png" class="img-fluid" alt="Code showing the position of the level sequence being dynamically changed.">
                      <p>Code showing the position of the level sequence being dynamically changed.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Next, I play the sequence, and store the sequence in a map, using the player’s Controller ID as the key. This way, if they deselect the character, I can locate and remove the sequence, clearing up the space in front of their character select section for when they select a new character.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/PlaySequence.png" class="img-fluid" alt="Code showing the sequence being played and stored for reference later.">
                      <p>Code showing the sequence being played and stored for reference later.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Lastly, I needed to make sure that the correct materials are applied to the character spawned by the sequence. To account for multiple players selecting the same character, we created alternate colours which were assigned to the duplicate selections. To do this, I iterated through the bindings of the sequence being played, then iterate through the objects within each binding, to find which is the <em>SkeletalMeshActor</em> used in the sequence by attempting to cast the bound Object as a <em>SkeletalMeshActor</em>.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/GetBindings.png" class="img-fluid" alt="Code showing the bindings being iterated through.">
                      <p>Code showing the bindings being iterated through.</p>
                      <img src="../images/GetBoundObjects.png" class="img-fluid" alt="Code showing the objects within each binding being iterated through.">
                      <p>Code showing the objects within each binding being iterated through.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        If the cast succeeded, then I check the character’s class defaults for which material to use, using an index created to track which material to use for the character, then set the material and overlay materials. Unreal shows a warning as changing these class defaults could cause problems, but referencing them like I am is safe.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/SettingSkeletalMaterial.png" class="img-fluid" alt="Code showing the materials of the skeletal mesh actor being adjusted during runtime.">
                      <p>Code showing the materials of the skeletal mesh actor being adjusted during runtime.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        As each character had different technical art needs, not all used a <em>SkeletalMeshActor</em> in their sequence. For these, the cast would fail. When this happens, I check if the object is instead an instance of the character class. If it is, then I call a function on their class for setting the material, which sets the materials within the actor.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/ChangingCharacterMaterials.png" class="img-fluid" alt="Code showing the changing of a character's materials.">
                      <p>Code showing the changing of a character's materials.</p>
                      <img src="../images/CharacterMaterialFunction.png" class="img-fluid" alt="Function in character class for changing materials.">
                      <p>Function in character class for changing materials.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Lastly, once specific character used a Static Mesh for their sequence, so I did one final check for that, adding in a second check to make sure it was for their character specifically.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/StaticMeshActor.png" class="img-fluid" alt="Code for adjusting materials on a static mesh actor.">
                      <p>Code for adjusting materials on a static mesh actor.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        A similar process was used for the winning character’s sequence on the post match results screen, however those sequences only used instances of the Character’s class, so we only needed to cast for that object in the bindings.
                      </p>
                    </div>
                    <div class="col">
                      <img src="../images/ResultsScreenMaterialChange.png" class="img-fluid" alt="Code showing the material being adjusted on the post match results screen.">
                      <p>Code showing the material being adjusted on the post match results screen.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade accordion-item" id="data-tab-pane" role="tabpanel" aria-labelledby="data-tab" tabindex="0">
              <div id="collapseFour" class="accordion-collapse collapse d-lg-block" aria-labelledby="headingFour" data-bs-parent="#myTabContent">
                <div class="accordion-body">
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        A major system I worked on for this project was the Game Manager systems, or 'Game Modes' in Unreal Engine. Game Modes oversee the game state at each stage, defining  and implementing the rules of the game. These tracked all data related to player choices, such as the characters they selected and the stage they selected, as well as their in-match statistics, such as how many knockouts they received, and how much damage they received or dealt.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/RCR_Results.gif" class="img-fluid" alt="Post match results screen showing each players stats for the match.">
                      <p>Post match results screen showing each players stats for the match.</p>
                    </div>
                  </div>
                  <div class="row">
                    <h3 class="d-flex align-items-center justify-content-center">Tracking Player Selections in the Menu</h3>
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        To track this data, I created a struct to store all relevant values, then created Map in each Game Mode using each player’s controller ID as the key, and this struct as the value.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/PlayerData.png" class="img-fluid" alt="Struct for tracking player data.">
                      <p>Struct for tracking player data.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        The Menu Game Mode subscribes to an event in the character Select UI which triggers whenever a character is selected. The Game Mode then updates the entry for the player controller with the selected character’s class. This data will then be used when the players load into the level to spawn their selected character, as well as assign it to the correct player. 
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/AddingPlayerToMap.png" class="img-fluid" alt="Code for adding a player's data to the Map of structs.">
                      <p>Code for adding a player's data to the Map of structs.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        A similar process is used when selecting a level. The event triggered provides an integer ID for the selected level, which is used to determine the level to load, as well as its music track. Each artist did a different lighting pass on one of the levels, so a random variant of the chosen level is selected from an array of the level file names and stored for later. The music track for the stage is passed to the Game Instance, an object that persists as long as the game is running. This can be used to pass data between the different game modes, as game modes do not persist when loading a new stage.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/LevelSelection.png" class="img-fluid" alt="Code for tracking level selection.">
                      <p>Code for tracking level selection.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Another choice that I needed to track was which Game Mode to load when starting a match. Our game had two main match types: timed matches, and stock matches, both with their own unique game modes. These are chosen on the character select screen using a toggle, so I used Unreal’s built in Flip Flop node to swap between the two modes, and tracked the currently selected mode with a custom EGameType enumerator for each game mode type. An event dispatcher is then called which the UI subscribes to so that it updates to display the correct mode.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/GameModeSelection.png" class="img-fluid" alt="Code for tracking Game Mode.">
                      <p>Code for tracking Game Mode.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        To set the game mode for a level when you open it, you set it using the optional pin “Options,” which accepts a string. For example, if using the Timed Match game mode, the string would be: <em class="fw-semibold">“?Game=/Game/Core/GameModes/GM_TimedMatch.GM_TimedMatch_C”</em>. To set this, I use a Switch node with the EGameType enumerator to determine which string to use, then pass this string along with the name of the Stage to be loaded to the Game Instance. This is then retrieved from the Game Instance by the Game Mode that handles the loading screen, which then opens the level. I also send the Map containing the player’s data to the Game Instance, so that the Game Mode for the Match can access it.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/UpdateGameInstance.png" class="img-fluid" alt="Code for updating Game Instance with player selections.">
                      <p>Code for updating Game Instance with player selections.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Initially we attempted to do Asynchronous Loading to load the levels faster, but were unable to get it working before our deadline, so the Loading Screen is really just used to display gameplay tips before the level loads. 
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/LoadingScreen.png" class="img-fluid" alt="Code in the Loading Screen game mode for loading the selected level.">
                      <p>Code in the Loading Screen game mode for loading the selected level.</p>
                    </div>
                  </div>
                  <div class="row">
                    <h3 class="d-flex align-items-center justify-content-center">Spawning Players and Tracking Data</h3>
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Once the level loads and the players are connected, the selected Game Mode takes over. Each of the specific Game Modes are child classes of the GM_Match game mode, which handles the implementation common across all the Game Modes. 
                        </br>
                        This game mode takes the Map of Player Data from the Game Instance and iterates through each entry to spawn each player’s character and connect them to the correct player’s controller. The SpawnPlayer function first creates an array of Player Start actors, which are objects Unreal uses to spawn player characters.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/SpawnPlayers-1.png" class="img-fluid" alt="Code for finding all spawn positions on stage.">
                      <p>Code for finding all spawn positions on stage.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        For each entry in the Player Data Map, the Game Mode spawns an instance of the selected Character Class, using one of the player spawn transforms for its spawn position, and assigning the player’s controller as it’s owner. The spawned character is then stored as a local variable for referencing later.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/SpawnPlayers-2.png" class="img-fluid" alt="Code for spawning Player character and assigning it to player.">
                      <p>Code for spawning Player character and assigning it to player.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        I then run a separate function called “Setup Player,” which gives the spawned Player a reference to their own Player ID, and adds each of them to an array of the Player instances. This array is used by things like the Camera which only need to know about the players in the match.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/SetupPlayer.png" class="img-fluid" alt="Code for setting up the player array and giving spawned character their Player ID.">
                      <p>Code for setting up the player array and giving spawned character their Player ID.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Throughout the match, the Player Data map in the Game Mode needs to get updated with stats such as damage dealt, damage taken, how many times they were knocked out, how many times they knocked out others, etc. To  update this data, I set up Events in the Base Character class which broadcast the necessary information. Here, the Game Mode subscribes to the events.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/BindToPlayerEvents.png" class="img-fluid" alt="Binding Game Mode events to Character events.">
                      <p>Binding Game Mode events to Character events.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Here is an example of one of the functions used to track this data, “Update Player Damage Stats,” which is called each time a player receives damage. The event provides the ID of the player receiving the damage, a reference to the Character which damaged them, how much damage was received, as well as the current amount of damage they have. 
                      </br>
                        First, the Game Mode locates the entry in the Player Data map matching the ID of the damaged player and increases the value of the total damage they’ve received in the match by the amount received by this attack.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/DamageReceived-1.png" class="img-fluid" alt="Code for incrementing damage received.">
                      <p>Code for incrementing damage received.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Next, the game mode checks to see if the current damage they have is greater than the highest damage value they’ve had before getting knocked out this match. If it does, then the value for Peak Damage gets replaced with the current damage amount. 
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/DamageReceived-2.png" class="img-fluid" alt="Code for updating peak damage value.">
                      <p>Code for updating peak damage value.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Next, the game mode iterates through the Player Data map to find the entry for the attacking player character. 
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/DamageReceived-3.png" class="img-fluid" alt="Code for locating the attacker.">
                      <p>Code for locating the attacker.</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col d-flex flex-column justify-content-center">
                      <p>
                        Once the player is found, the game mode increments their total damage dealt this match by the amount dealt by the attack.
                      </p>
                    </div>                  
                    <div class="col">
                      <img src="../images/DamageReceived-4.png" class="img-fluid" alt="Code for updating attacker's damage dealt.">
                      <p>Code for updating attacker's damage dealt.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>  
        </div> 
    </body> 
</html>